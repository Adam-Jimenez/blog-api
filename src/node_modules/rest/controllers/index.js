/*
 * groups controllers in one object
 *
 * {
 *  posts: {
 *      ....
 *  },
 *  comments: {
 *      ....
 *  },
 * }
 */

const fs = require('fs')
const _ = require('lodash')
const path = require('path')

const controllersFiles = fs.readdirSync(__dirname)
const controllers = {}

_.each(controllersFiles, (file) => {
    if (file !== 'index.js') {
        const filename = path.parse(file).name
        controllers[filename] = require(path.join(__dirname, file))
    }
})

module.exports = controllers
