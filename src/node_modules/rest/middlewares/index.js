/*
 * groups middlewares in one object
 *
 * {
 *  paging: {
 *      ....
 *  },
 *  ...
 * }
 */

const fs = require('fs')
const _ = require('lodash')
const path = require('path')

const middlewareFiles = fs.readdirSync(__dirname)
const middlewares = {}

_.each(middlewareFiles, (file) => {
    if (file !== 'index.js') {
        const filename = path.parse(file).name
        middlewares[filename] = require(path.join(__dirname, file))
    }
})

module.exports = middlewares
