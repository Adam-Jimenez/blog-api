const nodemailer = require('nodemailer')
const config = require('config')

// uses sendmail binary
const transporter = nodemailer.createTransport({
    sendmail: true
})

module.exports = {
    mailAdmin: (subject, htmlContent) => {
        const mailOptions = {
            from: config.mail.user,
            to: config.mail.adminMail,
            subject: subject,
            html: htmlContent,
        }

        transporter.sendMail(mailOptions, (error, info) => {
            if (error) {
                throw error
            } else {
                // no-op
            }
        })
    }
}

